<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ç”œç”œåœˆ - éº¦éº¦è„†è„†è–¯é¥¼</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* å…¨å±€é‡ç½® */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Source Han Sans CN", sans-serif;
        }
        
        body {
            background-color: #f0f0f0;
            color: #333;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            position: relative;
            touch-action: manipulation;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* å…¨å±æœ‹å‹åœˆå®¹å™¨ */
        .wechat-moments-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #f0f0f0;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        /* é¡¶éƒ¨å¯¼èˆªæ  - æ¨¡æ‹Ÿå¾®ä¿¡PCç«¯é¡¶éƒ¨ */
        .moments-header {
            height: 60px;
            background-color: #fff;
            border-bottom: 1px solid #e5e5e5;
            display: flex;
            align-items: center;
            padding: 0 20px;
            justify-content: space-between;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);
            position: relative;
            z-index: 10;
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .wechat-logo {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, #c107a5, #f009ae);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            font-weight: bold;
        }
        
        .header-title {
            font-size: 18px;
            font-weight: 500;
            color: #333;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .header-btn {
            width: 36px;
            height: 36px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.2s;
            color: #666;
        }
        
        .header-btn:hover {
            background-color: #f5f5f5;
        }
        
        .close-btn {
            color: #ff4d4d;
            font-size: 20px;
            font-weight: 300;
        }
        
        /* å†…å®¹åŒºåŸŸ */
        .moments-content {
            flex: 1;
            display: flex;
            overflow: hidden;
            position: relative;
        }
        
        /* å·¦ä¾§è¾¹æ  - æ¨¡æ‹Ÿå¾®ä¿¡PCç«¯å·¦ä¾§ */
        .moments-sidebar {
            width: 260px;
            background-color: #fff;
            border-right: 1px solid #e5e5e5;
            padding-top: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }
        
        .sidebar-item {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            cursor: pointer;
            transition: background-color 0.2s;
            color: #333;
        }
        
        .sidebar-item:hover {
            background-color: #f5f5f5;
        }
        
        .sidebar-item.active {
            background-color: #f0f0f0;
            border-left: 3px solid #07c160;
        }
        
        .sidebar-icon {
            width: 24px;
            height: 24px;
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
        }
        
        .sidebar-text {
            font-size: 15px;
            font-weight: 400;
        }
        
        /* å³ä¾§ä¸»å†…å®¹åŒº */
        .moments-main {
            flex: 1;
            overflow-y: auto;
            padding: 20px 40px;
            background-color: #fafafa;
        }
        
        /* æœ‹å‹åœˆå°é¢åŒºåŸŸ */
        .moments-cover {
            height: 360px;
            background: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.5)), url('./bizhi3.jpg');
            background-size: cover;
            background-position: center;
            border-radius: 8px;
            margin-bottom: 20px;
            position: relative;
            display: flex;
            align-items: flex-end;
        }
        
        .cover-user-info {
            padding: 20px 30px;
            display: flex;
            align-items: center;
            color: white;
        }
        
        .user-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 4px solid rgba(255, 255, 255, 0.3);
            overflow: hidden;
            margin-right: 20px;
        }
        
        .user-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .user-name {
            font-size: 24px;
            font-weight: 500;
            margin-bottom: 5px;
        }
        
        .user-signature {
            font-size: 14px;
            opacity: 0.9;
        }
        
        /* æœ‹å‹åœˆåŠ¨æ€åŒºåŸŸ */
        .moments-list {
            background-color: #fff;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);
        }
        
        .moment-item {
            padding: 20px 0;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
        }
        
        .moment-item:last-child {
            border-bottom: none;
        }
        
        .moment-avatar {
            width: 48px;
            height: 48px;
            border-radius: 8px;
            overflow: hidden;
            margin-right: 15px;
            flex-shrink: 0;
        }
        
        .moment-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .moment-content {
            flex: 1;
        }
        
        .moment-user {
            font-size: 16px;
            font-weight: 500;
            color: #333;
            margin-bottom: 5px;
        }
        
        .moment-text {
            font-size: 15px;
            line-height: 1.5;
            color: #333;
            margin-bottom: 10px;
        }
        
        .moment-images {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-bottom: 12px;
            max-width: 500px;
        }
        
        .moment-image {
            width: 100%;
            aspect-ratio: 1;
            border-radius: 6px;
            overflow: hidden;
            cursor: pointer;
            background-color: #f5f5f5;
        }
        
        .moment-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        
        .moment-image:hover img {
            transform: scale(1.05);
        }
        
        .moment-info {
            display: flex;
            align-items: center;
            color: #8a8a8a;
            font-size: 13px;
            margin-top: 8px;
        }
        
        .moment-time {
            margin-right: 15px;
        }
        
        .moment-actions {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 10px;
        }
        
        .moment-action {
            display: flex;
            align-items: center;
            gap: 5px;
            color: #8a8a8a;
            cursor: pointer;
            transition: color 0.2s;
            font-size: 14px;
        }
        
        .moment-action:hover {
            color: #07c160;
        }
        
        /* å‘å¸ƒæ–°åŠ¨æ€åŒºåŸŸ */
        .post-moment {
            background-color: #fff;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);
            display: flex;
        }
        
        .post-avatar {
            width: 48px;
            height: 48px;
            border-radius: 8px;
            overflow: hidden;
            margin-right: 15px;
            flex-shrink: 0;
        }
        
        .post-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .post-input {
            flex: 1;
        }
        
        .post-textarea {
            width: 100%;
            min-height: 80px;
            border: none;
            resize: none;
            font-size: 15px;
            line-height: 1.5;
            color: #333;
            outline: none;
            font-family: inherit;
        }
        
        .post-textarea::placeholder {
            color: #999;
        }
        
        .post-actions {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #f0f0f0;
        }
        
        .post-icons {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .post-icon {
            width: 36px;
            height: 36px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #8a8a8a;
            transition: background-color 0.2s;
        }
        
        .post-icon:hover {
            background-color: #f5f5f5;
            color: #07c160;
        }
        
        .post-button {
            background-color: #07c160;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .post-button:hover {
            background-color: #06ad56;
        }
        
        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 768px) {
            .moments-header {
                height: 50px;
                padding: 0 15px;
            }
            
            .wechat-logo {
                width: 32px;
                height: 32px;
                font-size: 18px;
            }
            
            .header-title {
                font-size: 16px;
            }
            
            .moments-sidebar {
                display: none; /* ç§»åŠ¨ç«¯éšè—ä¾§è¾¹æ  */
            }
            
            .moments-main {
                padding: 15px;
            }
            
            .moments-cover {
                height: 240px;
                border-radius: 0;
                margin: -15px -15px 15px -15px;
                width: calc(100% + 30px);
            }
            
            .cover-user-info {
                padding: 15px;
            }
            
            .user-avatar {
                width: 60px;
                height: 60px;
            }
            
            .user-name {
                font-size: 20px;
            }
            
            .moment-images {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 480px) {
            .moments-cover {
                height: 200px;
            }
            
            .user-avatar {
                width: 50px;
                height: 50px;
            }
            
            .user-name {
                font-size: 18px;
            }
            
            .moment-images {
                grid-template-columns: 1fr;
            }
        }
        
        /* é˜²æ­¢é¡µé¢æ»šåŠ¨ */
        .no-scroll {
            overflow: hidden;
        }
        
        /* å›¾ç‰‡é¢„è§ˆæ¨¡æ€æ¡† */
        .image-preview-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 10000;
            display: none;
            align-items: center;
            justify-content: center;
        }
        
        .preview-image {
            max-width: 90%;
            max-height: 90%;
            border-radius: 8px;
            object-fit: contain;
        }
        
        .close-preview {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-size: 32px;
            cursor: pointer;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            transition: background-color 0.2s;
        }
        
        .close-preview:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        /* åŠ è½½åŠ¨ç”» */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #f0f0f0;
            z-index: 10001;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(7, 193, 96, 0.2);
            border-radius: 50%;
            border-top-color: #07c160;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        .loading-text {
            color: #666;
            font-size: 16px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* ç¡®ä¿å…¼å®¹H5ç¯å¢ƒ */
        @media (max-aspect-ratio: 3/4) {
            /* ç‰¹åˆ«é’ˆå¯¹ç«–å±H5ç¯å¢ƒä¼˜åŒ– */
            .moments-cover {
                height: 35vh;
            }
            
            .moments-list, .post-moment {
                padding: 15px;
            }
        }
        
        /* é˜²æ­¢æ–‡æœ¬é€‰æ‹© */
        .no-select {
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }
        
        /* ç¡®ä¿æŒ‰é’®åœ¨ç§»åŠ¨ç«¯æœ‰è¶³å¤Ÿçš„ç‚¹å‡»åŒºåŸŸ */
        button, .header-btn, .moment-action, .post-icon {
            min-height: 44px;
            min-width: 44px;
        }
        
        /* ========== æ–°å¢ï¼šè¯„è®ºå’Œç‚¹èµåŒºåŸŸæ ·å¼ ========== */
        
        /* ç‚¹èµåŒºåŸŸ */
        .likes-section {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 12px;
            padding: 10px 15px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border-left: 3px solid #ff6b6b;
        }
        
        .likes-icon {
            color: #ff6b6b;
            margin-right: 5px;
            font-size: 14px;
        }
        
        .like-user {
            color: #07c160;
            font-weight: 500;
            font-size: 13px;
            padding: 2px 6px;
            background-color: rgba(7, 193, 96, 0.1);
            border-radius: 12px;
        }
        
        /* è¯„è®ºåŒºåŸŸ */
        .comments-section {
            margin-top: 10px;
            padding: 12px 15px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border-left: 3px solid #4dabf7;
        }
        
        .comment-item {
            display: flex;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px dashed #dee2e6;
        }
        
        .comment-item:last-child {
            margin-bottom: 0;
            border-bottom: none;
        }
        
        .comment-user {
            font-weight: 600;
            color: #07c160;
            font-size: 13px;
            margin-right: 5px;
            flex-shrink: 0;
        }
        
        .comment-reply {
            color: #4dabf7;
            font-weight: 600;
        }
        
        .comment-text {
            font-size: 13px;
            line-height: 1.4;
            color: #333;
        }
        
        .comment-time {
            color: #8a8a8a;
            font-size: 11px;
            margin-left: auto;
            flex-shrink: 0;
            align-self: flex-start;
        }
        
        /* å‘å¸ƒè¯„è®ºåŒºåŸŸ */
        .add-comment {
            display: flex;
            margin-top: 15px;
            gap: 8px;
        }
        
        .comment-input {
            flex: 1;
            padding: 8px 12px;
            border: 1px solid #dee2e6;
            border-radius: 20px;
            font-size: 13px;
            outline: none;
            background-color: white;
            transition: border-color 0.2s;
        }
        
        .comment-input:focus {
            border-color: #07c160;
        }
        
        .send-comment-btn {
            background-color: #07c160;
            color: white;
            border: none;
            border-radius: 20px;
            padding: 0 15px;
            font-size: 13px;
            cursor: pointer;
            transition: background-color 0.2s;
            flex-shrink: 0;
        }
        
        .send-comment-btn:hover {
            background-color: #06ad56;
        }
        
        /* è¯„è®ºåŒºåŸŸå“åº”å¼ */
        @media (max-width: 768px) {
            .comments-section, .likes-section {
                padding: 10px;
            }
            
            .comment-input {
                padding: 6px 10px;
            }
            
            .send-comment-btn {
                padding: 0 12px;
            }
        }
    </style>
</head>
<body class="no-scroll">
    <!-- åŠ è½½ç•Œé¢ -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">åŠ è½½ç”œç”œåœˆä¸­...</div>
    </div>
    
    <!-- å…¨å±æœ‹å‹åœˆç•Œé¢ -->
    <div class="wechat-moments-container" id="momentsContainer" style="display: none;">
        <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
        <div class="moments-header">
            <div class="header-left">
                <div class="wechat-logo">T</div>
                <div class="header-title">ç”œç”œåœˆ</div>
            </div>
            <div class="header-right">
                <div class="header-btn">
                    <i class="fas fa-search"></i>
                </div>
                <div class="header-btn">
                    <i class="fas fa-ellipsis-v"></i>
                </div>
                <div class="header-btn close-btn" id="closeBtn">
                    <i class="fas fa-times"></i>
                </div>
            </div>
        </div>
        
        <!-- å†…å®¹åŒºåŸŸ -->
        <div class="moments-content">
            <!-- å·¦ä¾§è¾¹æ  -->
            <div class="moments-sidebar">
                <div class="sidebar-item active">
                    <div class="sidebar-icon">
                        <i class="far fa-newspaper"></i>
                    </div>
                    <div class="sidebar-text">ç›†Uåœˆ</div>
                </div>
                <div class="sidebar-item">
                    <div class="sidebar-icon">
                        <i class="fas fa-user-friends"></i>
                    </div>
                    <div class="sidebar-text">ç›†Uåˆ—è¡¨</div>
                </div>
                <div class="sidebar-item">
                    <div class="sidebar-icon">
                        <i class="fas fa-camera"></i>
                    </div>
                    <div class="sidebar-text">ç…§ç‰‡å¢™</div>
                </div>
                <div class="sidebar-item">
                    <div class="sidebar-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <div class="sidebar-text">æˆ‘çš„æ”¶è—</div>
                </div>
                <div class="sidebar-item">
                    <div class="sidebar-icon">
                        <i class="fas fa-cog"></i>
                    </div>
                    <div class="sidebar-text">ç›†Uåœˆè®¾ç½®</div>
                </div>
            </div>
            
            <!-- å³ä¾§ä¸»å†…å®¹åŒº -->
            <div class="moments-main">
                <!-- å°é¢åŒºåŸŸ -->
                <div class="moments-cover">
                    <div class="cover-user-info">
                        <div class="user-avatar">
                            <img src="mmtx.jpg" alt="è–¯é¥¼å¤´åƒ">
                        </div>
                        <div>
                            <div class="user-name">éº¦éº¦è„†è„†è–¯é¥¼</div>
                            <div class="user-signature">è–¯é¥¼ä¸‡å²ï¼âœ¨</div>
                        </div>
                    </div>
                </div>
                
                <!-- å‘å¸ƒæ–°åŠ¨æ€åŒºåŸŸ -->
                <div class="post-moment">
                    <div class="post-avatar">
                        <img src="mmtx.jpg" alt="ç”¨æˆ·å¤´åƒ">
                    </div>
                    <div class="post-input">
                        <textarea class="post-textarea" placeholder="åˆ†äº«æ–°é²œäº‹..."></textarea>
                        <div class="post-actions">
                            <div class="post-icons">
                                <div class="post-icon" title="æ·»åŠ ç…§ç‰‡">
                                    <i class="fas fa-image"></i>
                                </div>
                                <div class="post-icon" title="æ·»åŠ è¡¨æƒ…">
                                    <i class="far fa-smile"></i>
                                </div>
                                <div class="post-icon" title="@å¥½å‹">
                                    <i class="fas fa-at"></i>
                                </div>
                                <div class="post-icon" title="æ·»åŠ ä½ç½®">
                                    <i class="fas fa-map-marker-alt"></i>
                                </div>
                            </div>
                            <button class="post-button">å‘å¸ƒ</button>
                        </div>
                    </div>
                </div>
                
                <!-- æœ‹å‹åœˆåŠ¨æ€åˆ—è¡¨ -->
                <div class="moments-list">
                    <!-- åŠ¨æ€1 - å°ç”œç”œ -->
                    <div class="moment-item" id="moment1">
                        <div class="moment-avatar">
                            <img src="zyztx.jpg" alt="ç”¨æˆ·å¤´åƒ">
                        </div>
                        <div class="moment-content">
                            <div class="moment-user">å‘¨äºå½°ï¼ˆå…´å¥å¤§å¦ç‰©ä¸šç®¡ç†å¤„ï¼‰</div>
                            <div class="moment-text">
                                å¤©ä¸€å®šä¼šäº®çš„ã€‚
                            </div>
                            <div class="moment-images">
                                <div class="moment-image">
                                    <img src="./yandi.png" alt="ç…§ç‰‡">
                                </div>
                                <!-- <div class="moment-image">
                                    <img src="https://images.unsplash.com/photo-1579761314336-f6ea7b68e0d9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2067&q=80" alt="ç”œç”œåœˆç…§ç‰‡">
                                </div>
                                <div class="moment-image">
                                    <img src="https://images.unsplash.com/photo-1508736793126-08c6f81d47c0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2064&q=80" alt="ç”œç”œåœˆç…§ç‰‡">
                                </div> -->
                            </div>
                            <div class="moment-info">
                                <div class="moment-time">2å°æ—¶å‰</div>
                                <div class="moment-actions">
                                    <div class="moment-action like-btn">
                                        <i class="fas fa-thumbs-up"></i> èµ
                                    </div>
                                    <div class="moment-action comment-btn">
                                        <i class="far fa-comment"></i> è¯„è®º
                                    </div>
                                    <div class="moment-action">
                                        <i class="fas fa-share"></i> åˆ†äº«
                                    </div>
                                </div>
                            </div>
                            <!-- ç‚¹èµåŒºåŸŸ -->
                            <div class="likes-section">
                                <span class="likes-icon"><i class="fas fa-thumbs-up"></i></span>
                                <span class="like-user">ä¸Šæ ¡é¸¡å—ï¼ˆç½‘å‹ï¼‰</span>
                                <span class="like-user">å…°èŠ±é¦™</span>
                                <!-- <span class="like-user">æˆ‘çˆ±æŸšå­</span> -->
                            </div>
                            
                            <!-- è¯„è®ºåŒºåŸŸ -->
                            <div class="comments-section">
                                <div class="comment-item">
                                    <span class="comment-user">ä¸Šæ ¡é¸¡å—ï¼ˆç½‘å‹ï¼‰ï¼š</span>
                                    <span class="comment-text">è¦æ³¨æ„èº«ä½“å¥åº·å‘€ï¼</span>
                                    <span class="comment-time">1å°æ—¶å‰</span>
                                </div>
                                <div class="comment-item">
                                    <span class="comment-user">å…°èŠ±é¦™ï¼š</span>
                                    <span class="comment-text">æ™ºé½¿ï¼</span>
                                    <span class="comment-time">1å°æ—¶å‰</span>
                                </div>
                                <!-- <div class="comment-item">
                                    <span class="comment-user">å…°èŠ±é¦™ï¼š</span>
                                    <span class="comment-text">å“‡ï¼Œçœ‹èµ·æ¥å¥½å¥½åƒï¼å‘¨æœ«æˆ‘ä¹Ÿè¦å»ï¼</span>
                                    <span class="comment-time">45åˆ†é’Ÿå‰</span>
                                </div> -->
                            </div>
                            
                            <!-- å‘å¸ƒè¯„è®ºåŒºåŸŸ -->
                            <div class="add-comment">
                                <input type="text" class="comment-input" placeholder="è¯„è®º...">
                                <button class="send-comment-btn">å‘é€</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- åŠ¨æ€2 - æ–‡å¿ƒç«¹çš„åŠ¨æ€ -->
                    <!-- <div class="moment-item" id="moment2">
                        <div class="moment-avatar">
                            <img src="xztx.jpg" alt="wxzå¤´åƒ">
                        </div>
                        <div class="moment-content">
                            <div class="moment-user">æ–‡å¿ƒç«¹ï¼ˆå®‰å¦»å­ï¼‰</div>
                            <div class="moment-text">
                                å®‰å¿ƒè¯åº—88æŠ˜ä¼˜æƒ ï¼Œå…¨åœºè¯å“å‚ä¸æ´»åŠ¨ï¼Œæ´»åŠ¨æ—¶é—´ï¼š3æœˆ1æ—¥-3æœˆ31æ—¥ã€‚æ¬¢è¿æ–°è€é¡¾å®¢å…‰ä¸´ï¼
                            </div>
                            <div class="moment-images">
                                <div class="moment-image">
                                    <img src="https://images.unsplash.com/photo-1623334044303-241021148842?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80" alt="è¯åº—ç…§ç‰‡">
                                </div>
                                <div class="moment-image">
                                    <img src="https://images.unsplash.com/photo-1559757148-5c350d0d3c56?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80" alt="è¯å“ç…§ç‰‡">
                                </div>
                            </div>
                            <div class="moment-info">
                                <div class="moment-time">æ˜¨å¤© 14:30</div>
                                <div class="moment-actions">
                                    <div class="moment-action like-btn">
                                        <i class="fas fa-thumbs-up"></i> èµ
                                    </div>
                                    <div class="moment-action comment-btn">
                                        <i class="far fa-comment"></i> è¯„è®º
                                    </div>
                                    <div class="moment-action">
                                        <i class="fas fa-share"></i> åˆ†äº«
                                    </div>
                                </div>
                            </div>
                            
                             -- ç‚¹èµåŒºåŸŸ -- 
                            <div class="likes-section">
                                <span class="likes-icon"><i class="fas fa-thumbs-up"></i></span>
                                <span class="like-user">éº¦éº¦è„†è„†è–¯é¥¼</span>
                                <span class="like-user">å…°èŠ±é¦™</span>
                                <span class="like-user">æˆ‘çˆ±æŸšå­</span>
                                <span class="like-user">å°ç”œç”œ</span>
                                <span class="like-user">åŒ»è¯ä»£è¡¨æ</span>
                                <span class="like-user">é‚»å±…ç‹é˜¿å§¨</span>
                                <span class="like-user">è¯åº—å¸¸å®¢å¼ </span>
                            </div>
                            
                             - è¯„è®ºåŒºåŸŸ -- 
                            <div class="comments-section">
                                <div class="comment-item">
                                    <span class="comment-user">å…°èŠ±é¦™ï¼š</span>
                                    <span class="comment-text">å¦ˆå¦ˆæœ€æ£’ï¼å¸®æˆ‘ä¹°ç‚¹æ„Ÿå†’è¯ğŸ’Šï¼Œæœ€è¿‘å¤©æ°”å˜åŒ–å¤§</span>
                                    <span class="comment-time">22:15</span>
                                </div>
                                <div class="comment-item">
                                    <span class="comment-user">éº¦éº¦è„†è„†è–¯é¥¼ï¼š</span>
                                    <span class="comment-text">ç«¹å§ï¼Œå¸®æˆ‘ç•™ä¸¤ç›’é™å‹è¯ï¼æˆ‘çˆ¸çš„è¯å¿«åƒå®Œäº†</span>
                                    <span class="comment-time">21:45</span>
                                </div>
                                <div class="comment-item">
                                    <span class="comment-user">åŒ»è¯ä»£è¡¨æï¼š</span>
                                    <span class="comment-text">æ–‡å§ï¼Œæ–°åˆ°çš„è¿›å£è¯ä¹Ÿæœ‰æŠ˜æ‰£å—ï¼Ÿæˆ‘è¿™è¾¹æœ‰å‡ ä¸ªå®¢æˆ·éœ€è¦</span>
                                    <span class="comment-time">20:30</span>
                                </div>
                                <div class="comment-item">
                                    <span class="comment-user">æ–‡å¿ƒç«¹ï¼ˆå®‰å¦»å­ï¼‰<span class="comment-reply"> å›å¤</span> éº¦éº¦è„†è„†è–¯é¥¼ï¼š</span>
                                    <span class="comment-text">å¥½çš„å¨å“¥ï¼Œç»™ä½ ç•™ç€ï¼æ˜å¤©æ¥æ‹¿å°±è¡Œ</span>
                                    <span class="comment-time">22:05</span>
                                </div>
                                <div class="comment-item">
                                    <span class="comment-user">é‚»å±…ç‹é˜¿å§¨ï¼š</span>
                                    <span class="comment-text">å°æ–‡ï¼Œæ˜å¤©æˆ‘å»çœ‹çœ‹ï¼Œæœ€è¿‘å…³èŠ‚ç–¼ğŸ˜£ï¼Œæœ‰ä»€ä¹ˆå¥½çš„è´´è†å—ï¼Ÿ</span>
                                    <span class="comment-time">19:20</span>
                                </div>
                                <div class="comment-item">
                                    <span class="comment-user">è¯åº—å¸¸å®¢å¼ ï¼š</span>
                                    <span class="comment-text">æ–‡å§ï¼Œç³–å°¿ç—…è¯ä¹Ÿæ‰“æŠ˜å—ï¼Ÿæˆ‘æ¯äº²éœ€è¦é•¿æœŸæœç”¨</span>
                                    <span class="comment-time">18:45</span>
                                </div>
                                <div class="comment-item">
                                    <span class="comment-user">æ–‡å¿ƒç«¹ï¼ˆå®‰å¦»å­ï¼‰<span class="comment-reply"> å›å¤</span> åŒ»è¯ä»£è¡¨æï¼š</span>
                                    <span class="comment-text">è¿›å£è¯ä¹Ÿæœ‰ä¼˜æƒ ï¼Œä¸è¿‡æŠ˜æ‰£ä¸ä¸€æ ·ï¼Œæ˜å¤©æ¥åº—é‡Œè¯¦è°ˆ</span>
                                    <span class="comment-time">17:30</span>
                                </div>
                            </div>
                            
                             -- å‘å¸ƒè¯„è®ºåŒºåŸŸ -- 
                            <div class="add-comment">
                                <input type="text" class="comment-input" placeholder="è¯„è®º...">
                                <button class="send-comment-btn">å‘é€</button>
                            </div>
                        </div>
                    </div> -->
                    
                    <!-- åŠ¨æ€3 - æˆ‘çˆ±æŸšå­ -->
                    <div class="moment-item" id="moment3">
                        <div class="moment-avatar">
                            <img src="./tx1.png" alt="haå¤´åƒ">
                        </div>
                        <div class="moment-content">
                            <div class="moment-user">æˆ‘çˆ±æŸšå­ï¼ˆå¯ä»¥ä¼ å…«å¦çš„åŒäº‹ï¼‰</div>
                            <div class="moment-text">
                                å¤§å¦é™„è¿‘çš„æ°´æœåº—å¤ªè‰¯å¿ƒäº†å§ï½ï¼æ¯æ¬¡å»é‚£è€æ¿å¨˜éƒ½å¯çƒ­æƒ…ï¼ï¼ï¼å°å…‰ä¹Ÿå¥½æ‡‚äº‹ï¼ï¼ï¼ç»å¸¸çœ‹åˆ°ä»–æ”¾å­¦å¸®å¦ˆå¦ˆå¹²æ´»ï¼çœ‹å¾—äººå¿ƒé‡Œæš–æš–å˜Ÿ~
                            </div>
                            <div class="moment-info">
                                <div class="moment-time">3å¤©å‰</div>
                                <div class="moment-actions">
                                    <div class="moment-action like-btn">
                                        <i class="far fa-thumbs-up"></i> èµ
                                    </div>
                                    <div class="moment-action comment-btn">
                                        <i class="far fa-comment"></i> è¯„è®º
                                    </div>
                                    <div class="moment-action">
                                        <i class="fas fa-share"></i> åˆ†äº«
                                    </div>
                                </div>
                            </div>

                            <!-- ç‚¹èµåŒºåŸŸ -->
                            <div class="likes-section">
                                <span class="likes-icon"><i class="fas fa-thumbs-up"></i></span>
                                <span class="like-user">å…°èŠ±é¦™</span>
                                <span class="like-user">Rjoï¼ˆåŒäº‹ç”²ï¼‰</span>
                                <span class="like-user">èŠ’æœç»µç»µå†°ï¼ˆåŒäº‹ä¹™ï¼‰</span>
                            </div>
                            
                            <!-- è¯„è®ºåŒºåŸŸ -->
                            <div class="comments-section">
                                <div class="comment-item">
                                    <span class="comment-user">å…°èŠ±é¦™ï¼š</span>
                                    <span class="comment-text">æ˜¯é‚£ä¸ªæœå¤šå¤šå—ï¼æˆ‘ä¹Ÿç»å¸¸å»é‚£ä¹°æ°´æœï¼è¶…ç”œè¶…æ–°é²œï¼</span>
                                    <span class="comment-time">2å¤©å‰</span>
                                </div>
                               <!--  <div class="comment-item">
                                    <span class="comment-user">æˆ‘çˆ±æŸšå­ï¼š</span>
                                    <span class="comment-text">åœ¨ç¾é£Ÿè¡—çš„"ç”œèœœå¨æˆ¿"ï¼Œæ¯å‘¨å…­ä¸‹åˆéƒ½æœ‰è¯¾</span>
                                    <span class="comment-time">2å¤©å‰</span>
                                </div> -->
                                <div class="comment-item">
                                    <span class="comment-user">å‡å‡çœŸçœŸï¼š</span>
                                    <span class="comment-text">é˜¿ï¼å°å…‰çœŸçš„å¾ˆä¹–~</span>
                                    <span class="comment-time">2å¤©å‰</span>
                                </div>
                                <div class="comment-item">
                                    <span class="comment-user">éº¦éº¦è„†è„†è–¯é¥¼ï¼š</span>
                                    <span class="comment-text">æˆ‘ä¹Ÿå–œæ¬¢ï¼ä¸‹æ¬¡ä¸€èµ·å»ä¹°ï¼</span>
                                    <span class="comment-time">1å¤©å‰</span>
                                </div>
                            </div>
                            
                            <!-- å‘å¸ƒè¯„è®ºåŒºåŸŸ -->
                            <div class="add-comment">
                                <input type="text" class="comment-input" placeholder="è¯„è®º...">
                                <button class="send-comment-btn">å‘é€</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- å›¾ç‰‡é¢„è§ˆæ¨¡æ€æ¡† -->
    <div class="image-preview-modal" id="imagePreviewModal">
        <div class="close-preview" id="closePreviewBtn">Ã—</div>
        <img class="preview-image" id="previewImage" src="" alt="é¢„è§ˆå›¾ç‰‡">
    </div>

    <script>
        // åˆå§‹åŒ–ç‚¹èµæ•°æ®
        const likesData = {
            //  åŠ¨æ€1çš„ç‚¹èµåˆ—è¡¨
            moment1: ['éº¦éº¦è„†è„†è–¯é¥¼', 'å…°èŠ±é¦™', 'æˆ‘çˆ±æŸšå­ï¼ˆå¯ä»¥ä¼ å…«å¦çš„åŒäº‹ï¼‰'],
            
            //  åŠ¨æ€2çš„ç‚¹èµåˆ—è¡¨
            moment2: ['éº¦éº¦è„†è„†è–¯é¥¼', 'å…°èŠ±é¦™', 'æˆ‘çˆ±æŸšå­ï¼ˆå¯ä»¥ä¼ å…«å¦çš„åŒäº‹ï¼‰', 'Rjoï¼ˆåŒäº‹ç”²ï¼‰', 'è¯åº—æ¨é”€çš„', 'ä¿æ´é˜¿å§¨', 'å¼ å®‡å®™ï¼ˆåŒäº‹ä¸™ï¼‰'],
            
            //  åŠ¨æ€3çš„ç‚¹èµåˆ—è¡¨
            moment3: ['å…°èŠ±é¦™', 'Rjoï¼ˆåŒäº‹ç”²ï¼‰', 'é‚»å±…ç‹é˜¿å§¨']
        };

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initMoments();
        });
        
        function initMoments() {
            // æ¨¡æ‹ŸåŠ è½½è¿‡ç¨‹
            setTimeout(function() {
                document.getElementById('loadingOverlay').style.display = 'none';
                document.getElementById('momentsContainer').style.display = 'flex';
                
                // åˆå§‹åŒ–äº‹ä»¶ç›‘å¬
                initEventListeners();
                
                // åˆå§‹åŒ–æ‰€æœ‰åŠ¨æ€çš„ç‚¹èµå’Œè¯„è®ºåŠŸèƒ½
                initAllMomentsLikes();
                initAllMomentsComments();
                
                // æ·»åŠ è§¦è§‰åé¦ˆæ”¯æŒ
                if (navigator.vibrate) {
                    // ä¸ºé‡è¦äº¤äº’æ·»åŠ è½»å¾®éœ‡åŠ¨
                    document.querySelectorAll('.header-btn, .moment-action, .post-icon, .post-button').forEach(element => {
                        element.addEventListener('click', function() {
                            navigator.vibrate(10);
                        });
                    });
                }
                
                // é€‚é…ç§»åŠ¨ç«¯H5ç¯å¢ƒ
                adaptForH5Environment();
            }, 800);
        }
        
        // åˆå§‹åŒ–æ‰€æœ‰åŠ¨æ€çš„ç‚¹èµåŠŸèƒ½
        function initAllMomentsLikes() {
            // è·å–æ‰€æœ‰åŠ¨æ€
            const moments = document.querySelectorAll('.moment-item');
            
            moments.forEach((moment, index) => {
                const momentId = `moment${index + 1}`;
                initMomentLikes(moment, momentId);
            });
        }
        
        // åˆå§‹åŒ–å•ä¸ªåŠ¨æ€çš„ç‚¹èµåŠŸèƒ½
        function initMomentLikes(momentElement, momentId) {
            const likeBtn = momentElement.querySelector('.like-btn');
            const likesSection = momentElement.querySelector('.likes-section');
            
            if (!likeBtn || !likesSection) return;
            
            // åˆå§‹åŒ–ç‚¹èµçŠ¶æ€å’Œæ•°æ®
            let isLiked = likesData[momentId] && likesData[momentId].includes('éº¦éº¦è„†è„†è–¯é¥¼');
            let likes = likesData[momentId] ? [...likesData[momentId]] : [];
            
            // è®¾ç½®åˆå§‹ç‚¹èµå›¾æ ‡çŠ¶æ€
            const icon = likeBtn.querySelector('i');
            if (isLiked) {
                icon.classList.remove('far');
                icon.classList.add('fas');
                likeBtn.style.color = '#07c160';
            } else {
                icon.classList.remove('fas');
                icon.classList.add('far');
                likeBtn.style.color = '#8a8a8a';
            }
            
            likeBtn.addEventListener('click', function() {
                const userName = momentElement.querySelector('.moment-user').textContent;
                
                if (isLiked) {
                    // å–æ¶ˆç‚¹èµ
                    icon.classList.remove('fas');
                    icon.classList.add('far');
                    this.style.color = '#8a8a8a';
                    
                    // ä»ç‚¹èµåˆ—è¡¨ä¸­ç§»é™¤éº¦éº¦è„†è„†
                    const index = likes.indexOf('éº¦éº¦è„†è„†è–¯é¥¼');
                    if (index !== -1) {
                        likes.splice(index, 1);
                    }
                    
                    showToast(`å·²å–æ¶ˆç‚¹èµ ${userName} çš„åŠ¨æ€`);
                } else {
                    // ç‚¹èµ
                    icon.classList.remove('far');
                    icon.classList.add('fas');
                    this.style.color = '#07c160';
                    
                    // æ·»åŠ åˆ°ç‚¹èµåˆ—è¡¨
                    if (!likes.includes('éº¦éº¦è„†è„†è–¯é¥¼')) {
                        likes.unshift('éº¦éº¦è„†è„†è–¯é¥¼'); // æ·»åŠ åˆ°æœ€å‰é¢
                    }
                    
                    showToast(`å·²ç‚¹èµ ${userName} çš„åŠ¨æ€`);
                }
                
                // æ›´æ–°ç‚¹èµåˆ—è¡¨æ˜¾ç¤º
                updateLikesList(likesSection, likes);
                isLiked = !isLiked;
            });
            
            // åˆå§‹åŒ–ç‚¹èµåˆ—è¡¨æ˜¾ç¤º
            updateLikesList(likesSection, likes);
        }
        
        function updateLikesList(likesSection, likesArray) {
            // æ›´æ–°ç‚¹èµåˆ—è¡¨æ˜¾ç¤º
            if (!likesSection || likesArray.length === 0) {
                if (likesSection) likesSection.innerHTML = '';
                return;
            }
            
            let html = '<span class="likes-icon"><i class="fas fa-thumbs-up"></i></span>';
            likesArray.forEach(user => {
                html += `<span class="like-user">${user}</span>`;
            });
            likesSection.innerHTML = html;
        }
        
        // åˆå§‹åŒ–æ‰€æœ‰åŠ¨æ€çš„è¯„è®ºåŠŸèƒ½
        function initAllMomentsComments() {
            // ä¸ºæ¯ä¸ªåŠ¨æ€åˆå§‹åŒ–è¯„è®ºåŠŸèƒ½
            const moments = document.querySelectorAll('.moment-item');
            
            moments.forEach((moment, index) => {
                const commentInput = moment.querySelector('.comment-input');
                const sendCommentBtn = moment.querySelector('.send-comment-btn');
                const commentsSection = moment.querySelector('.comments-section');
                const commentBtn = moment.querySelector('.comment-btn');
                
                if (commentInput && sendCommentBtn && commentsSection) {
                    sendCommentBtn.addEventListener('click', function() {
                        addCommentToMoment(commentInput, commentsSection, index + 1);
                    });
                    
                    commentInput.addEventListener('keypress', function(e) {
                        if (e.key === 'Enter') {
                            addCommentToMoment(commentInput, commentsSection, index + 1);
                        }
                    });
                    
                    if (commentBtn) {
                        commentBtn.addEventListener('click', function() {
                            commentInput.focus();
                            commentInput.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        });
                    }
                }
            });
        }
        
        function addCommentToMoment(input, commentsSection, momentIndex) {
            const commentText = input.value.trim();
            if (!commentText) {
                showToast('è¯·è¾“å…¥è¯„è®ºå†…å®¹');
                return;
            }
            
            // åˆ›å»ºæ–°è¯„è®º
            const now = new Date();
            const timeStr = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
            
            const newComment = document.createElement('div');
            newComment.className = 'comment-item';
            newComment.innerHTML = `
                <span class="comment-user">éº¦éº¦è„†è„†è–¯é¥¼ï¼š</span>
                <span class="comment-text">${commentText}</span>
                <span class="comment-time">${timeStr}</span>
            `;
            
            // æ·»åŠ åˆ°è¯„è®ºåŒºåŸŸæœ€å‰é¢
            const addCommentDiv = commentsSection.querySelector('.add-comment');
            commentsSection.insertBefore(newComment, addCommentDiv);
            
            // æ¸…ç©ºè¾“å…¥æ¡†
            input.value = '';
            
            showToast('è¯„è®ºæˆåŠŸï¼');
            
            // å¦‚æœæœ‰è§¦è§‰åé¦ˆ
            if (navigator.vibrate) {
                navigator.vibrate(30);
            }
        }
        
        function initEventListeners() {
            // å…³é—­æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            document.getElementById('closeBtn').addEventListener('click', function() {
                closeMomentsAndRedirect();
            });
            
            // å›¾ç‰‡ç‚¹å‡»é¢„è§ˆ
            document.querySelectorAll('.moment-image img').forEach(img => {
                img.addEventListener('click', function() {
                    openImagePreview(this.src);
                });
            });
            
            // å…³é—­å›¾ç‰‡é¢„è§ˆ
            document.getElementById('closePreviewBtn').addEventListener('click', closeImagePreview);
            
            // å›¾ç‰‡é¢„è§ˆæ¨¡æ€æ¡†ç‚¹å‡»å…³é—­
            document.getElementById('imagePreviewModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeImagePreview();
                }
            });
            
            // åˆ†äº«æŒ‰é’®äº¤äº’
            document.querySelectorAll('.moment-action:has(.fa-share)').forEach(action => {
                action.addEventListener('click', function() {
                    const userName = this.closest('.moment-item').querySelector('.moment-user').textContent;
                    showToast(`åˆ†äº« ${userName} çš„åŠ¨æ€`);
                });
            });
            
            // å‘å¸ƒæŒ‰é’®ç‚¹å‡»
            document.querySelector('.post-button').addEventListener('click', function() {
                const textarea = document.querySelector('.post-textarea');
                if (textarea.value.trim()) {
                    showToast('åŠ¨æ€å‘å¸ƒæˆåŠŸï¼');
                    textarea.value = '';
                } else {
                    showToast('è¯·è¾“å…¥è¦åˆ†äº«çš„å†…å®¹');
                }
            });
            
            // ä¾§è¾¹æ é¡¹ç›®ç‚¹å‡»
            document.querySelectorAll('.sidebar-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelectorAll('.sidebar-item').forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                    
                    const itemText = this.querySelector('.sidebar-text').textContent;
                    showToast(`åˆ‡æ¢åˆ°: ${itemText}`);
                });
            });
            
            // é”®ç›˜å¿«æ·é”®æ”¯æŒ
            document.addEventListener('keydown', function(e) {
                // ESCé”®å…³é—­æœ‹å‹åœˆ
                if (e.key === 'Escape') {
                    closeMomentsAndRedirect();
                }
                
                // Ctrl+Enter æˆ– Cmd+Enter å‘å¸ƒåŠ¨æ€
                if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                    document.querySelector('.post-button').click();
                }
            });
            
            // é˜²æ­¢é¡µé¢æ»šåŠ¨
            document.addEventListener('touchmove', function(e) {
                // å…è®¸åœ¨æ»šåŠ¨åŒºåŸŸå†…æ»šåŠ¨
                const scrollableElements = document.querySelectorAll('.moments-main, .moments-sidebar');
                let isScrollable = false;
                
                scrollableElements.forEach(element => {
                    if (element.contains(e.target)) {
                        isScrollable = true;
                    }
                });
                
                // å¦‚æœä¸æ˜¯åœ¨å¯æ»šåŠ¨å…ƒç´ å†…ï¼Œé˜»æ­¢é»˜è®¤æ»šåŠ¨
                if (!isScrollable) {
                    e.preventDefault();
                }
            }, { passive: false });
        }
        
        // å…³é—­æœ‹å‹åœˆå¹¶è·³è½¬
        function closeMomentsAndRedirect() {
            // æ·»åŠ å…³é—­åŠ¨ç”»
            const container = document.getElementById('momentsContainer');
            container.style.opacity = '0';
            container.style.transition = 'opacity 0.3s ease';
            
            setTimeout(function() {
                // è·³è½¬åˆ°æŒ‡å®šé¡µé¢
                window.location.href = 'mmdn.html';
            }, 300);
        }
        
        // æ‰“å¼€å›¾ç‰‡é¢„è§ˆ
        function openImagePreview(src) {
            document.getElementById('previewImage').src = src;
            document.getElementById('imagePreviewModal').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }
        
        // å…³é—­å›¾ç‰‡é¢„è§ˆ
        function closeImagePreview() {
            document.getElementById('imagePreviewModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        // æ˜¾ç¤ºToastæç¤º
        function showToast(message) {
            // ç§»é™¤ç°æœ‰çš„toast
            const existingToast = document.querySelector('.toast-message');
            if (existingToast) {
                existingToast.remove();
            }
            
            // åˆ›å»ºæ–°çš„toast
            const toast = document.createElement('div');
            toast.className = 'toast-message';
            toast.textContent = message;
            toast.style.cssText = `
                position: fixed;
                bottom: 30px;
                left: 50%;
                transform: translateX(-50%);
                background-color: rgba(0, 0, 0, 0.8);
                color: white;
                padding: 12px 24px;
                border-radius: 25px;
                font-size: 14px;
                z-index: 10002;
                animation: fadeInOut 3s ease;
                max-width: 80%;
                text-align: center;
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.1);
            `;
            
            // æ·»åŠ åŠ¨ç”»æ ·å¼
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fadeInOut {
                    0% { opacity: 0; transform: translateX(-50%) translateY(20px); }
                    10% { opacity: 1; transform: translateX(-50%) translateY(0); }
                    90% { opacity: 1; transform: translateX(-50%) translateY(0); }
                    100% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(toast);
            
            // 3ç§’åè‡ªåŠ¨ç§»é™¤
            setTimeout(() => {
                if (toast.parentNode) {
                    toast.remove();
                }
                if (style.parentNode) {
                    style.remove();
                }
            }, 3000);
        }
        
        // é€‚é…H5ç¯å¢ƒ
        function adaptForH5Environment() {
            // æ£€æµ‹æ˜¯å¦åœ¨å¾®ä¿¡æˆ–H5ç¯å¢ƒä¸­
            const isWeChat = /MicroMessenger/i.test(navigator.userAgent);
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            // å¦‚æœæ˜¯ç§»åŠ¨ç«¯ï¼Œè°ƒæ•´ä¸€äº›æ ·å¼
            if (isMobile) {
                // å¢åŠ ç‚¹å‡»åŒºåŸŸå¤§å°
                document.querySelectorAll('.moment-action, .post-icon, .header-btn, .send-comment-btn').forEach(element => {
                    element.style.minHeight = '44px';
                    element.style.minWidth = '44px';
                    element.style.display = 'flex';
                    element.style.alignItems = 'center';
                    element.style.justifyContent = 'center';
                });
                
                // ä¼˜åŒ–é•¿æŒ‰è¡Œä¸º
                document.querySelectorAll('img').forEach(img => {
                    img.addEventListener('contextmenu', function(e) {
                        e.preventDefault();
                        showToast('é•¿æŒ‰å¯ä»¥ä¿å­˜å›¾ç‰‡');
                    });
                });
                
                // è¯„è®ºè¾“å…¥æ¡†ä¼˜åŒ–
                document.querySelectorAll('.comment-input').forEach(input => {
                    input.style.minHeight = '44px';
                });
            }
            
            // é˜²æ­¢H5ç¯å¢ƒä¸­çš„ä¸‹æ‹‰åˆ·æ–°
            let startY = 0;
            document.addEventListener('touchstart', function(e) {
                startY = e.touches[0].clientY;
            }, { passive: true });
            
            document.addEventListener('touchmove', function(e) {
                // å¦‚æœåœ¨é¡¶éƒ¨ä¸”å‘ä¸‹æ‹‰ï¼Œé˜»æ­¢é»˜è®¤è¡Œä¸º
                if (window.scrollY === 0 && e.touches[0].clientY > startY) {
                    e.preventDefault();
                }
            }, { passive: false });
            
            // é’ˆå¯¹TapTapç­‰H5æ¸¸æˆå¹³å°ä¼˜åŒ–
            if (window.parent !== window) {
                // å¦‚æœåœ¨iframeä¸­ï¼Œé€šçŸ¥çˆ¶çª—å£è°ƒæ•´é«˜åº¦
                setTimeout(() => {
                    const height = document.documentElement.scrollHeight;
                    window.parent.postMessage({ type: 'resize', height: height }, '*');
                }, 500);
            }
            
            // å¤„ç†è¿”å›æŒ‰é’®ï¼ˆç§»åŠ¨ç«¯ï¼‰
            if (window.history && isMobile) {
                window.history.pushState(null, null, window.location.href);
                window.addEventListener('popstate', function() {
                    showToast('å†æ¬¡ç‚¹å‡»è¿”å›å°†é€€å‡ºæœ‹å‹åœˆ');
                    setTimeout(() => {
                        window.history.pushState(null, null, window.location.href);
                    }, 100);
                });
            }
        }
        
        // é”™è¯¯å¤„ç†
        window.addEventListener('error', function(e) {
            console.error('é¡µé¢é”™è¯¯:', e.error);
            showToast('é¡µé¢åŠ è½½å‡ºç°é—®é¢˜ï¼Œè¯·åˆ·æ–°é‡è¯•');
        });
        
        // é¡µé¢å¯è§æ€§å˜åŒ–å¤„ç†
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                // é¡µé¢è¢«éšè—ï¼Œæš‚åœå¯èƒ½çš„å¤šåª’ä½“
            } else {
                // é¡µé¢æ¢å¤æ˜¾ç¤º
            }
        });
    </script>
</body>
</html>